
var templates = {
    meal: {
        name: 'unknown',
        flags: '',
        ingredients: []
    },
    ingredient:  {
      name: 'unknown',
      unit: 'piece',
      weight: '?',
      price: 0,
      ean: []
    }
};

var data = {
  meals: [],
  ingredients : [
    {
      name: 'mozzarella',
      unit: 'piece',
      weight: '200g',
      price: 0.55,
      ean: [
        '20013295'
      ]
    },
    {
      name: 'paprika',
      unit: 'piece',
      weight: '200g',
      price: 0.50,
      ean: [
        '4712'
      ]
    }
  ],
}

// Avoid `console` errors in browsers that lack a console.
/*(function() {
    var method;
    var noop = function () {};
    var methods = [
        'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
        'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
        'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
        'timeStamp', 'trace', 'warn'
    ];
    var length = methods.length;
    var console = (window.console = window.console || {});

    while (length--) {
        method = methods[length];

        // Only stub undefined methods.
        if (!console[method]) {
            console[method] = noop;
        }
    }
}());*/

// Place any jQuery/helper plugins in here.

data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Backofenkartoffeln',
            flags: '',
            ingredients: [
                {quantity: 3, name: 'kartoffeln'}
            ]
        }
    )
);

data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Bolognese',
            flags: '',
            ingredients: [
                {quantity: 1, name: 'hackfleisch'},
                {quantity: 1, name: 'spagetthi'},
                {quantity: 1, name: 'dosentomaten'},
                {quantity: 1, name: 'zwiebeln'}
            ]
        }
    )
);
data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Champignonpfännchen',
            flags: '',
            ingredients: [
                {quantity: 2, name: 'zwiebel'},
				{quantity: 1, name: 'champignon'},
				{quantity: 1, name: 'saure sahne'},
				{quantity: 1, name: 'schnittlauch'},
            ]
        }
    )
);

data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Frikadellen und Möhren',
            flags: '',
            ingredients: [
                {quantity: 1, name: 'hackfleisch'},
                {quantity: 1, name: 'kartoffeln'},
                {quantity: 1, name: 'moehren'}
            ]
        }
    )
);
data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Gulasch',
            flags: '',
            ingredients: [
                {quantity: 1, name: 'gulasch'},
                {quantity: 1, name: 'pilze'},
                {quantity: 1, name: 'zwiebeln'}
            ]
        }
    )
);
data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Gurkensuppe',
            flags: '',
            ingredients: [
                {quantity: 1, name: 'gurken'},
                {quantity: 1, name: 'zwiebeln'}
            ]
        }
    )
);
data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Hühnerfrikassee',
            flags: '',
            ingredients: [
                {quantity: 1, name: 'suppenhuhn'},
                {quantity: 1, name: 'erbsen'},
                {quantity: 1, name: 'sahne'}
            ]
        }
    )
);
data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Konfetti Gemüsekuchen',
            flags: '',
            ingredients: [
                {quantity: 4, name: 'paprika'},
                {quantity: 4, name: 'mehl'},
                {quantity: 1, name: 'frühlingszwiebeln'},
                {quantity: 1, name: 'gouda'},
                {quantity: 4, name: 'eier'}
            ]
        }
    )
);

data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Lachs',
            flags: '',
            ingredients: [
                {quantity: 1, name: 'lachs'},
                {quantity: 1, name: 'nudeln'},
                {quantity: 1, name: 'sahne'},
                {quantity: 1, name: 'frischkäse'}
            ]
        }
    )
);
data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Linsengemüse',
            flags: '',
            ingredients: [
                {quantity: 1, name: 'linsen'},
                {quantity: 3, name: 'kartoffeln'},
                {quantity: 1, name: 'fruehlingszwiebeln'}
            ]
        }
    )
);

data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Omlett',
            flags: '',
            ingredients: [
                {quantity: 2, name: 'eier'},
				{quantity: 1, name: 'tomate'},
				{quantity: 1, name: 'gekochter schinken'},
				{quantity: 1, name: 'mozarella'},
				{quantity: 1, name: 'sahne'},				
            ]
        }
    )
);

data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Paprika Gehacktes',
            flags: '',
            ingredients: [
                {quantity: 1, name: 'mozarella'},
                {quantity: 3, name: 'paprika'},
                {quantity: 1, name: 'hackfleisch'},
                {quantity: 1, name: 'zwiebel'},
                {quantity: 1, name: 'frischkäse'}
            ]
        }
    )
);
data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Spinat',
            flags: '',
            ingredients: [
                {quantity: 1, name: 'spinat'},
                {quantity: 1, name: 'kartoffeln'},
                {quantity: 1, name: 'zwiebeln'}
            ]
        }
    )
);
data.meals.push(
    $.extend({},
        templates.meal || {},
        {
            name: 'Zucchini mit Hähnchenbrust',
            flags: '',
            ingredients: [
                {quantity: 1, name: 'zucchini'},
                {quantity: 1, name: 'reis'},
                {quantity: 1, name: 'haehnchenbrustfilet'}
            ]
        }
    )
);

'use strict';

//http://www.opengtindb.org/index.php
////http://www.codecheck.info/


var content = $(document.body).find('.content');

//add row
_.each(data.meals, function (meal) {
  var ing = _.map(meal.ingredients, function (ing) {
    return ing.name
  });
  var node = $('<tr>')
              .append(
                $('<td>')
                .text(meal.name),
                $('<td>').
                text(ing.join(', '))

              );
  content.append(node);
});